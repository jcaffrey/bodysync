extends template

block cssSheets
    link(rel='stylesheet', href='/stylesheets/pt-form.css')
    meta(name="viewport", content="width=device-width, initial-scale=1")

block content

    form
        h1 Create your account.
        br
        .inputs
            .input-box.input-top
                input.text-input(type='full-name' name='fullName' placeholder='John Smith' onblur="checkName(this.value)")
                .input-name Full Name
            .input-box
                input.text-input(type='email' name='email' placeholder='abc@xyz.com' onblur="checkEmail(this.value)")            
                .input-name Email
            .input-box
                input.text-input(type='password' id='password' name='password' placeholder='********' onblur="checkPassword(this.value)")
                .input-name
                    span Password
                    span.input-label 8 Characters Min
            .input-box.input-bottom
                input.text-input(type='password' name='confirmPassword' placeholder='********' onblur="checkPasswordConfirm(this.value)")
                .input-name Confirm
    p#success

        script.
            function checkName(str) {
                var errorDiv = document.getElementById('nameError');
                var re = /[A-Za-z -']$/;
                if (!re.test(str) && str != "") {
                    errorDiv.innerHTML = "Invalid name entered";
                    errorDiv.style.height = "6%";
                }
                else {
                    errorDiv.style.innerHTML = ""
                    while (errorDiv.firstChild) {
                        errorDiv.removeChild(errorDiv.firstChild);
                    }
                    errorDiv.style.height = "0";
                }
            }
            function checkEmail(str) {
                var errorDiv = document.getElementById('emailError');
                var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                if ((!re.test(str)) && (str != "")) {
                    errorDiv.innerHTML = "Invalid email entered";
                    errorDiv.style.height = "6%";
                }
                else {
                    errorDiv.style.innerHTML = ""
                    while (errorDiv.firstChild) {
                        errorDiv.removeChild(errorDiv.firstChild);
                    }
                    errorDiv.style.height = "0";
                }
            }
            function checkPassword(str) {
                var errorDiv = document.getElementById('passwordError');
                var re = /[a-zA-Z0-9]{8}/;
                if ((!re.test(str)) && (str != "")) {
                    errorDiv.innerHTML = "Password must have 8 valid characters";
                    errorDiv.style.height = "6%";
                }
                else {
                    errorDiv.style.innerHTML = ""
                    while (errorDiv.firstChild) {
                        errorDiv.removeChild(errorDiv.firstChild);
                    }
                    errorDiv.style.height = "0";
                }
            }
            function checkPasswordConfirm(str) {
                var errorDiv = document.getElementById('emailError');
                if ((str != document.getElementById('password').value) && (str != "")) {
                    errorDiv.innerHTML = "Passwords do not match";
                    errorDiv.style.height = "6%";
                }
                else {
                    errorDiv.style.innerHTML = ""
                    while (errorDiv.firstChild) {
                        errorDiv.removeChild(errorDiv.firstChild);
                    }
                    errorDiv.style.height = "0";
                }
            }

